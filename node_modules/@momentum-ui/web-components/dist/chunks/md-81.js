(window["momentum-web-components-[id]"]=window["momentum-web-components-[id]"]||[]).push([[81],{120:function(t,e,i){"use strict";i.r(e),i.d(e,"timeUnits",(function(){return b})),i.d(e,"timeSpecificity",(function(){return y})),i.d(e,"TimePicker",(function(){return v}));var o=i(5),a=i(0),r=i(4),s=a.css`.md-timepicker{padding-right:3rem;width:fit-content}.md-timepicker.twenty-four-hour-format{padding-right:0}.md-timepicker .time-input-box{display:inline-block;height:2rem;width:2.5rem}.md-timepicker .amPm-combo-box{display:inline-block;height:2rem;margin-left:.5rem;position:absolute;width:2.5rem}.md-timepicker .amPm-combo-box::part(group){padding:0}.md-timepicker .amPm-combo-box::part(multiwrap-input){text-align:center;text-transform:uppercase;width:100%}.md-timepicker .amPm-combo-box::part(label){padding:0 .4375rem;width:100%}.md-timepicker .amPm-combo-box::part(combobox-option){padding-left:0;padding-right:0}.md-timepicker .amPm-combo-box::part(combobox-options){max-height:5rem}.md-timepicker md-input::part(input){padding:0;text-align:center}.md-timepicker md-input::part(message){display:none}.md-timepicker .colon-separator{color:var(--md-secondary-text-color,#545454);font-size:1.25rem;line-height:125%;margin:0 .25rem}`,n=(i(24),i(19)),m=i(1),l=i(6),h=i(2),u=i(12),c=i(8),d=i(3),p=function(t,e,i,o){var a,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,o);else for(var n=t.length-1;n>=0;n--)(a=t[n])&&(s=(r<3?a(s):r>3?a(e,i,s):a(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s};const b=[m.b.HOUR,m.b.MINUTE,m.b.SECOND,m.b.AM_PM],y=[m.b.HOUR,m.b.MINUTE,m.b.SECOND],g={[m.b.HOUR]:"HH",[m.b.MINUTE]:"MM",[m.b.SECOND]:"SS",[m.b.AM_PM]:"AM"};var v;!function(t){let e=class extends a.LitElement{constructor(){super(...arguments),this.twoDigitAutoTab=!1,this.twentyFourHourFormat=!1,this.timeSpecificity=m.b.SECOND,this.locale="en-US",this.value="00:00:00-08:00",this.localeTwentyFourFormat=!1,this.finalTwentyFourFormat=!1,this.timeObject=Object(c.n)(),this.tabNext=!1,this.timeValue={[m.b.HOUR]:"12",[m.b.MINUTE]:"00",[m.b.SECOND]:"00",[m.b.AM_PM]:"AM"},this.timeValidity={[m.b.HOUR]:!0,[m.b.MINUTE]:!0,[m.b.SECOND]:!0,[m.b.AM_PM]:!0},this.addLeadingZeros=t=>{if(t){if(0===t.length)return"00";if(1===t.length)return"0"+t}return t},this.formatAndValidate=(t,e)=>{if(t&&(this.updateValidity(t,e),this.timeValidity[e]))return this.addLeadingZeros(t)},this.getLocaleTimeFormat=t=>{const e=t.toFormat("tt"),[i,o]=e.split(" ");return!o},this.updateTimeValues=()=>{let t;t=this.finalTwentyFourFormat?this.timeObject.toFormat("HH:mm:ss"):this.timeObject.toFormat("tt");const[e,i]=t.split(" "),o=e.split(":");y.forEach(t=>{const e=this.formatAndValidate(o.shift(),t);e&&(t===m.b.HOUR&&i&&(this.timeValue[m.b.AM_PM]=i),this.timeValue[t]=e)})},this.updateValidity=(t,e)=>{let i=!0;const o=e=>{null===t.match(e)&&(i=!1)};switch(e){case m.b.HOUR:this.finalTwentyFourFormat?o(new RegExp(n.a.twentyFourHourString)):o(new RegExp(n.a.hourString));break;case m.b.MINUTE:case m.b.SECOND:o(new RegExp(n.a.minuteSecondString));break;case m.b.AM_PM:o(new RegExp(n.a.amPmString))}this.timeValidity[e]=i},this.to12HourFormat=(t,e)=>{if(!this.finalTwentyFourFormat&&this.timeValidity[m.b.HOUR]&&this.timeValidity[m.b.AM_PM]){let i=Number(e);return"PM"===t?i=12+i%12:i%=12,i}},this.isEntireTimeValid=()=>Object.values(this.timeValidity).every(t=>t),this.updateTimeUnit=t=>{var e,i,o;this.updateValidity(this.timeValue[t],t),this.timeObject&&this.timeValidity[t]&&(t!==m.b.AM_PM?this.timeObject=null===(e=this.timeObject)||void 0===e?void 0:e.set({[t]:this.timeValue[t]}):this.timeObject=null===(i=this.timeObject)||void 0===i?void 0:i.set({hour:this.to12HourFormat(this.timeValue[m.b.AM_PM],this.timeValue[m.b.HOUR])}),this.isEntireTimeValid()&&(this.timeObject=null===(o=this.timeObject)||void 0===o?void 0:o.set({hour:this.to12HourFormat(this.timeValue[m.b.AM_PM],this.timeValue[m.b.HOUR])}),this.value=this.timeObject.toISOTime({suppressMilliseconds:!0})||this.value,this.dispatchEvent(new CustomEvent("time-selection-change",{bubbles:!0,composed:!0,detail:{time:this.value,data:this.timeObject}}))))},this.formatTimeUnit=t=>{if(1===this.timeValue[t].length)"0"!==this.timeValue[t]&&(this.timeValue[t]="0"+this.timeValue[t]);else if(this.timeValue[t].length>2&&"0"===this.timeValue[t][0]){const e=this.timeValue[t].substring(1);RegExp(n.a.noPrecedingZerosString).test(e)&&(this.timeValue[t]=e)}this.requestUpdate()},this.messageType=t=>t?"":"error",this.generateTimeBox=t=>{const e=(i=this.finalTwentyFourFormat,{[m.b.HOUR]:{type:"number",min:i?0:1,max:i?23:12},[m.b.MINUTE]:{type:"number",min:0,max:59},[m.b.SECOND]:{type:"number",min:0,max:59},[m.b.AM_PM]:{type:"text",min:void 0,max:void 0}})[t];var i;return a.html`
        ${t===m.b.MINUTE||t===m.b.SECOND?a.html`
              <span class="colon-separator">:</span>
            `:h.nothing}
        <md-input
          compact
          select-when-in-focus
          class="${"time-input-box "+t}"
          id="time-${b.findIndex(e=>e===t)+1}"
          value="${this.timeValue[t]}"
          type="${e.type}"
          min=${Object(l.ifDefined)(e.min)}
          max=${Object(l.ifDefined)(e.max)}
          maxLength=${2}
          placeholder="${g[t]}"
          @input-change="${e=>this.handleTimeChange(e,t)}"
          @input-keydown="${e=>this.handleTimeKeyDown(e,t)}"
          @input-blur="${e=>this.handleTimeBlur(e,t)}"
          .messageArr=${[{message:"",type:this.messageType(this.timeValidity[t])}]}
          .ariaLabel="${t}-input"
          ariaInvalid="${!this.timeValidity[t]}"
        ></md-input>
      `},this.generateAmPmComboBox=()=>{const t=["AM","PM"];return a.html`
        <md-combobox
          compact
          select-when-in-focus
          class="amPm-combo-box"
          .options=${t}
          .value=${[t[0]]}
          .inputValue=${this.timeValue[m.b.AM_PM]}
          .ariaLabel=${this.timeValue[m.b.AM_PM]}
          @change-selected="${t=>this.handleTimeChange(t,m.b.AM_PM)}"
        ></md-combobox>
      `}}get timePickerClassMap(){return{"twenty-four-hour-format":this.finalTwentyFourFormat}}updated(t){if(super.updated(t),this.value&&(t.has("value")||t.has("locale")||t.has("twentyFourHourFormat"))){this.timeObject=u.DateTime.fromISO(this.value,{locale:this.locale});const t=this.getLocaleTimeFormat(this.timeObject);this.finalTwentyFourFormat=this.twentyFourHourFormat||t,this.value=this.timeObject.toISOTime({suppressMilliseconds:!0}),this.updateTimeValues()}}handleTimeChange(t,e){var i,o,a;this.timeValue[e]=null===(i=null==t?void 0:t.detail)||void 0===i?void 0:i.value,this.requestUpdate(),this.formatTimeUnit(e);const r=this.timeValue[e];if(this.twoDigitAutoTab&&this.tabNext&&(e!==m.b.AM_PM&&2===r.length&&"0"!==r[0]||"00"===r)){t.preventDefault();const e=null==t?void 0:t.target,i=null===(o=this.shadowRoot)||void 0===o?void 0:o.querySelectorAll("md-input, md-combobox");if(i){const t=Array.prototype.findIndex.call(i,t=>null==e?void 0:e.isEqualNode(t)),o=(t+1)%i.length;if(t<i.length-1){const t=null===(a=i[o].shadowRoot)||void 0===a?void 0:a.querySelector("input");null==t||t.focus()}}}else e===m.b.AM_PM&&this.updateTimeUnit(e);t.stopPropagation(),this.dispatchEvent(new CustomEvent(e+"-change",{bubbles:!0,composed:!0,detail:{srcEvent:t,value:""+this.timeValue[e],isValid:this.timeValidity[e]}}))}handleTimeKeyDown(t,e){var i;const{key:o}=null===(i=null==t?void 0:t.detail)||void 0===i?void 0:i.srcEvent;o===m.a.ArrowDown||o===m.a.ArrowUp?this.tabNext=!1:this.tabNext=!0,this.timeValidity[e]=!0,this.requestUpdate(),t.stopPropagation(),this.dispatchEvent(new CustomEvent(e+"-keydown",{bubbles:!0,composed:!0,detail:{srcEvent:t,value:""+this.timeValue[e]}}))}handleTimeBlur(t,e){"0"===this.timeValue[e]&&(this.timeValue[e]="00"),this.updateTimeUnit(e),this.requestUpdate(),t.stopPropagation(),this.dispatchEvent(new CustomEvent(e+"-blur",{bubbles:!0,composed:!0,detail:{srcEvent:t,time:this.value,isValid:this.timeValidity[e]}}))}static get styles(){return[r.a,s]}render(){return a.html`
        <div class="md-timepicker ${Object(d.classMap)(this.timePickerClassMap)}">
          <div class="time-inputs-wrapper">
            ${this.generateTimeBox(m.b.HOUR)}
            ${this.timeSpecificity===m.b.HOUR?h.nothing:this.generateTimeBox(m.b.MINUTE)}
            ${this.timeSpecificity===m.b.MINUTE||this.timeSpecificity===m.b.HOUR?h.nothing:this.generateTimeBox(m.b.SECOND)}
            ${this.finalTwentyFourFormat?h.nothing:this.generateAmPmComboBox()}
          </div>
        </div>
      `}};p([Object(a.property)({type:Boolean,attribute:"two-digit-auto-tab"})],e.prototype,"twoDigitAutoTab",void 0),p([Object(a.property)({type:Boolean,attribute:"twenty-four-hour-format",reflect:!0})],e.prototype,"twentyFourHourFormat",void 0),p([Object(a.property)({type:String})],e.prototype,"timeSpecificity",void 0),p([Object(a.property)({type:String})],e.prototype,"locale",void 0),p([Object(a.property)({type:String,reflect:!0})],e.prototype,"value",void 0),p([Object(a.internalProperty)()],e.prototype,"localeTwentyFourFormat",void 0),p([Object(a.internalProperty)()],e.prototype,"finalTwentyFourFormat",void 0),p([Object(a.internalProperty)()],e.prototype,"timeObject",void 0),p([Object(a.internalProperty)()],e.prototype,"tabNext",void 0),p([Object(a.internalProperty)()],e.prototype,"timeValue",void 0),p([Object(a.internalProperty)()],e.prototype,"timeValidity",void 0),e=p([Object(o.a)("md-timepicker")],e),t.ELEMENT=e}(v||(v={}))}}]);