(window["momentum-web-components-[id]"]=window["momentum-web-components-[id]"]||[]).push([[63],{91:function(t,i,e){"use strict";e.r(i),e.d(i,"FloatingModal",(function(){return o}));var o,n=e(4),a=e(5),s=e(0),r=(e(17),e(15),e(61)),l=e(6),d=e(2),h=(e(44),e(45),e(46),e(47),e(20)),c=e.n(h),m=(e(73),e(7)),p=function(t,i,e,o){var n,a=arguments.length,s=a<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,i,e,o);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(s=(a<3?n(s):a>3?n(i,e,s):n(i,e))||s);return a>3&&s&&Object.defineProperty(i,e,s),s},u=function(t,i,e,o){return new(e||(e=Promise))((function(n,a){function s(t){try{l(o.next(t))}catch(t){a(t)}}function r(t){try{l(o.throw(t))}catch(t){a(t)}}function l(t){var i;t.done?n(t.value):(i=t.value,i instanceof e?i:new e((function(t){t(i)}))).then(s,r)}l((o=o.apply(t,i||[])).next())}))};!function(t){let i=class extends(Object(m.a)(Object(m.e)(s.LitElement))){constructor(){super(...arguments),this.heading="",this.label="",this.show=!1,this.aspectRatio=!1,this.fixed=!1,this.full=!1,this.closeAriaLabel="Close Modal",this.resizeAriaLabel="Resize Modal",this.minimizeAriaLabel="Minimize Modal",this.minimize=!1,this.minimizable=!1,this.containerRect=null,this.dragOccured=!1,this.containerTransform=this.position?`translate(${this.position.x}px, ${this.position.y}px)`:"",this.applyInitialPosition=!0,this.resizeMoveListener=t=>{const{target:i}=t;let e=parseFloat(i.getAttribute("data-x"))||0,o=parseFloat(i.getAttribute("data-y"))||0;i.style.setProperty("width",t.rect.width+"px","important"),i.style.setProperty("height",t.rect.height+"px","important");const{initialX:n,initialY:a}=this.getInitialPosition();e+=t.deltaRect.left+n,o+=t.deltaRect.top+a,this.setTargetPosition(i,e,o),this.applyInitialPosition=!1},this.resizeEndListener=()=>{this.setContainerRect()},this.getInitialPosition=()=>{var t,i;return this.applyInitialPosition&&this.position?{initialX:Number(null===(t=this.position)||void 0===t?void 0:t.x),initialY:Number(null===(i=this.position)||void 0===i?void 0:i.y)}:{initialX:0,initialY:0}},this.dragMoveListener=t=>{const{target:i}=t,{x:e,y:o}=this.getTransformValues(t);this.setTargetPosition(i,e,o),this.applyInitialPosition=!1},this.dragEndListener=()=>{this.dragOccured=!0,this.setContainerRect()}}static get styles(){return[n.a,r.a]}updated(t){super.updated(t),t.has("show")&&(this.container&&this.show?(this.applyInitialPosition=!0,this.setContainerRect(),this.setInteractInstance()):(this.cleanContainerStyles(),this.destroyInteractInstance())),this.container&&t.has("position")&&!t.has("show")&&this.setInitialTargetPosition()}isNewPositionNotSame(){var t,i,e,o;if(this.container)return Number(null===(t=this.container)||void 0===t?void 0:t.getAttribute("data-x"))!==(null===(i=this.position)||void 0===i?void 0:i.x)||Number(null===(e=this.container)||void 0===e?void 0:e.getAttribute("data-y"))!==(null===(o=this.position)||void 0===o?void 0:o.y)}setInitialTargetPosition(){var t,i;this.container&&this.isNewPositionNotSame()&&this.setTargetPosition(this.container,Number(null===(t=this.position)||void 0===t?void 0:t.x),Number(null===(i=this.position)||void 0===i?void 0:i.y))}cleanContainerStyles(){this.containerTransform=""}getContainerTransform(){const t=this.container.getAttribute("data-x"),i=this.container.getAttribute("data-y");return t&&i?(this.dispatchEvent(new CustomEvent("floating-modal-location",{composed:!0,bubbles:!0,detail:{transform:{x:t,y:i}}})),`translate(${t}px, ${i}px)`):this.container.style.transform}setContainerRect(){requestAnimationFrame(()=>u(this,void 0,void 0,(function*(){yield this.updateComplete,this.containerRect=this.container.getBoundingClientRect(),this.dispatchEvent(new CustomEvent("floating-modal-resize",{composed:!0,bubbles:!0,detail:{size:this.containerRect}})),this.containerTransform=this.getContainerTransform()})))}setInteractInstance(){requestAnimationFrame(()=>{this.container&&c()(this.container).resizable({edges:{left:!0,right:!0,bottom:!0,top:!0},listeners:{end:this.resizeEndListener,move:this.resizeMoveListener},modifiers:this.aspectRatio?[c.a.modifiers.aspectRatio({ratio:"preserve",equalDelta:!0,modifiers:[c.a.modifiers.restrictSize({max:"parent"})]})]:void 0}).draggable({autoScroll:!0,allowFrom:this.header,ignoreFrom:this.body,listeners:{move:this.dragMoveListener,end:this.dragEndListener}})})}handleClose(t){this.show=!1,this.full=!1,this.dispatchEvent(new CustomEvent("floating-modal-close",{composed:!0,bubbles:!0,detail:{srcEvent:t}}))}handleMinimize(t){this.minimizable&&(this.dragOccured||(this.minimize=!this.minimize,this.dispatchEvent(new CustomEvent("floating-modal-minimize",{composed:!0,bubbles:!0,detail:{minimize:this.minimize}}))),this.dragOccured=!1)}handleToggleExpandCollapse(){this.full=!this.full}getTransformValues(t){const{target:i,dx:e,dy:o}=t,{initialX:n,initialY:a}=this.getInitialPosition();return{x:(parseFloat(i.getAttribute("data-x"))||0)+e+n,y:(parseFloat(i.getAttribute("data-y"))||0)+o+a}}setTargetPosition(t,i,e){t.style.transform=`translate(${i}px, ${e}px)`,t.setAttribute("data-x",""+i),t.setAttribute("data-y",""+e)}destroyInteractInstance(){this.container&&c.a.isSet(this.container)&&c()(this.container).unset()}disconnectedCallback(){super.disconnectedCallback(),this.destroyInteractInstance()}render(){return s.html`
        ${this.show?s.html`
              <div
                class="md-floating ${this.fixed?"fixed":""} ${this.minimize?"hide":""}"
                part="floating"
                role="dialog"
                aria-label=${Object(l.ifDefined)(this.label||void 0)}
                aria-modal="true"
                style=${Object(l.ifDefined)(this.containerRect?`width: ${this.full?"100% !important":this.containerRect.width+"px !important"};\n                  height: ${this.full?"100% !important":this.containerRect.height+"px !important"};\n                  top: ${this.full?"0 !important":""};\n                  left: ${this.full?"0 !important":""};\n                  bottom: ${this.full?"0 !important":""};\n                  right: ${this.full?"0 !important":""};\n                  ${this.full?"transform: none !important":""};\n                  ${this.full?"":`transform: ${this.position?`translate(${this.position.x}px, ${this.position.y}px)`:this.containerTransform} !important`};`:void 0)}
              >
                <div class="md-floating__header">
                  <div class="md-floating__header-text">
                    ${this.heading?s.html`
                          ${this.heading}
                        `:s.html` 
                          ${!this.minimize&&this.headerSlot}
                          <slot name="header"></slot>
                        `}
                  </div>
                  ${this.minimizable?s.html`
                    <md-button
                      color="color-none"
                      class="md-floating__minimize"
                      aria-label="${this.minimizeAriaLabel}"
                      circle
                      @click=${this.handleMinimize}
                    >
                    <md-icon name="minus_16"></md-icon>
                  </md-button>`:d.nothing}

                  ${this.minimize?"":s.html` <md-button
                    color="color-none"
                    class="md-floating__resize"
                    aria-label="${this.resizeAriaLabel}"
                    circle
                    @click=${this.handleToggleExpandCollapse}
                  >
                    <md-icon name=${this.full?"minimize_16":"maximize_16"}></md-icon>
                  </md-button>`}

                  <md-button
                    color="color-none"
                    class="md-floating__close"
                    aria-label="${this.closeAriaLabel}"
                    circle
                    @click=${this.handleClose}
                  >
                    <md-icon name="cancel_16"></md-icon>
                  </md-button>
                </div>
                <div class="md-floating__body" part="floating-body">
                  <slot></slot>
                </div>
              </div>
              ${this.minimizable?s.html`
                <div class="md-floating-min-parent" part="minimize-floating" tabindex="-1">
                  <md-floating-modal-minimized
                      class="float-modal-min"
                      part="floating-minimized"
                      heading=${this.heading}
                      .minimize=${this.minimize}
                      .minPosition=${this.minPosition}
                      @floating-min-modal-minimize=${t=>this.handleMinimize(t)}
                      @floating-modal-close=${this.handleClose}
                      ?show=${this.show}
                      >
                      ${this.minimize&&this.headerSlot}
                  </md-floating-modal-minimized>
              </div>`:d.nothing}
             
            `:d.nothing}
      `}};p([Object(s.property)({type:String})],i.prototype,"heading",void 0),p([Object(s.property)({type:String})],i.prototype,"label",void 0),p([Object(s.property)({type:Boolean,reflect:!0})],i.prototype,"show",void 0),p([Object(s.property)({type:Boolean,reflect:!0,attribute:"aspect-ratio"})],i.prototype,"aspectRatio",void 0),p([Object(s.property)({type:Boolean,reflect:!0,attribute:"fixed-strategy"})],i.prototype,"fixed",void 0),p([Object(s.property)({type:Boolean,reflect:!0,attribute:"full-screen"})],i.prototype,"full",void 0),p([Object(s.property)({type:String,attribute:"close-aria-label"})],i.prototype,"closeAriaLabel",void 0),p([Object(s.property)({type:String,attribute:"resize-aria-label"})],i.prototype,"resizeAriaLabel",void 0),p([Object(s.property)({type:String,attribute:"minimize-aria-label"})],i.prototype,"minimizeAriaLabel",void 0),p([Object(s.property)({type:Boolean,reflect:!0})],i.prototype,"minimize",void 0),p([Object(s.property)({type:Object})],i.prototype,"position",void 0),p([Object(s.property)({type:Object})],i.prototype,"minPosition",void 0),p([Object(s.property)({type:Boolean,reflect:!0})],i.prototype,"minimizable",void 0),p([Object(s.property)({type:Object})],i.prototype,"containerRect",void 0),p([Object(s.internalProperty)()],i.prototype,"dragOccured",void 0),p([Object(s.query)(".md-floating")],i.prototype,"container",void 0),p([Object(s.query)(".md-floating__body")],i.prototype,"body",void 0),p([Object(s.query)(".md-floating__header")],i.prototype,"header",void 0),p([Object(s.query)(".md-floating-min-parent")],i.prototype,"minimizedHeader",void 0),p([Object(s.query)('slot[name="header"]')],i.prototype,"headerSlot",void 0),i=p([Object(a.a)("md-floating-modal")],i),t.ELEMENT=i}(o||(o={}))}}]);