(window["momentum-web-components-[id]"]=window["momentum-web-components-[id]"]||[]).push([[62],{111:function(e,t,i){"use strict";i.r(t),i.d(t,"alignment",(function(){return g})),i.d(t,"EditableTextfield",(function(){return u}));var l=i(19),r=i(4),d=i(42),a=i.n(d),s=i(5),o=i(0),n=i(2),c=i(3),h=i(6),b=i(24),p=o.css`:focus{outline:0}.md-editable-textfield{border-radius:.25rem;line-height:calc(19 / 14) rem;min-height:2rem;overflow-y:auto;padding:0 .375rem 0 .375rem}.md-editable-textfield:hover{background-color:var(--editable-textfield-default-hover-bg-color,#ededed)}.md-editable-textfield:active{background-color:var(--editable-textfield-default-pressed-bg-color,#dedede)}.md-editable-textfield:focus{box-shadow:0 0 0 .0625rem var(--md-default-focus-outline-color,#007aa3)}.md-editable-textfield--left .md-input{text-align:left}.md-editable-textfield--center .md-input{text-align:center}.md-editable-textfield--center ::slotted(*){text-align:center}.md-editable-textfield--right .md-input{text-align:right}.md-editable-textfield--right ::slotted(*){text-align:right}.md-editable-textfield--disabled{background-color:transparent;color:var(--md-secondary-text-color,#545454);cursor:default}.md-editable-textfield--disabled:hover{background-color:transparent}.md-editable-textfield--disabled:focus{box-shadow:none;outline:0}.md-editable-textfield--error{background-color:var(--md-alert-error-bg-color,#ffe8e3);border:1px solid var(--editable-textfield-error-border-color,#a12512);color:var(--md-alert-error-text-color,#a12512)}.md-editable-textfield--error:focus{box-shadow:none;outline:0}.md-editable-textfield--warning{background-color:var(--md-alert-warning-bg-color,#ffecc2);border:1px solid var(--editable-textfield-warning-border-color,#d97f00);color:var(--md-alert-warning-text-color,#7d4705)}.md-editable-textfield--warning:focus{box-shadow:none;outline:0}.md-editable-textfield--success{background-color:var(--md-alert-success-bg-color,#befade);border:1px solid var(--editable-textfield-success-border-color,#00ab50);color:var(--md-alert-success-text-color,#03612c)}.md-editable-textfield--success:focus{box-shadow:none;outline:0}.md-editable-textfield--textoverflow{-webkit-box-orient:vertical;display:-webkit-box;overflow-y:hidden;text-overflow:ellipsis}.md-editable-textfield__messages{padding:.375rem 0 0 1rem}`,m=function(e,t,i,l){var r,d=arguments.length,a=d<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,i):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,l);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(d<3?r(a):d>3?r(t,i,a):r(t,i))||a);return d>3&&a&&Object.defineProperty(t,i,a),a};const g=["left","right","center"];var u;!function(e){let t=class extends o.LitElement{constructor(){super(...arguments),this.alignment="left",this.disabled=!1,this.isEditing=!1,this.maxLines="",this.content="Click to edit text",this.message={type:"error",message:"That is not a valid input."},this.alert=!1,this.hideMessage=!1,this.pattern="",this.type=null,this.ariaLabel="editable field",this.ariaDescribedBy="",this.messageController=new b.Input.MessageController,this.reportValidity=()=>{this.dispatchEvent(new Event("invalid",{bubbles:!1,cancelable:!0,composed:!0}))},this.checkValidity=e=>{let t=!0;const i=i=>{null===e.match(i)&&(t=!1)};if(this.pattern){i(new RegExp(this.pattern))}else if(e&&this.type)switch(this.type){case"integer":i(new RegExp(l.a.integerString));break;case"decimal":i(new RegExp(l.a.decimalString))}return t},this.handleFocus=()=>{this.disabled||(this.isEditing=!0,this.setRange())},this.handleKeydown=e=>{var t;const{key:i,code:l}=e;if(["Tab","Meta","Shift","Delete","Backspace","Arrow"].some(e=>l.includes(e)))return;"integer"===this.type&&i.includes(".")&&e.preventDefault();const r=(null===(t=this.editableField)||void 0===t?void 0:t.innerText.trim())+i;if(this.type)if(isNaN(Number(r)))e.preventDefault();else{if("integer"!==this.type||Number.isInteger(Number(r)))return;e.preventDefault()}},this.handleBlur=()=>{var e;this.isEditing=!1,this.maxLines.length>0&&this.editableField&&this.editableField.scrollTo(0,0),this.content=(null===(e=this.editableField)||void 0===e?void 0:e.innerText.trim())||"",this.alert=!1,this.handleValidation()}}connectedCallback(){super.connectedCallback(),this.addEventListener("focus",this.handleFocus)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("focus",this.handleFocus)}firstUpdated(e){super.firstUpdated(e),this.innerText&&this.innerText.length>0?this.content=this.innerText.trim():this.innerText=a.a.sanitize(this.content)}updated(e){super.updated(e),e.has("content")&&this.editableField&&(this.editableField.innerText=a.a.sanitize(this.content))}setRange(){var e;if(this.editableField){const t=document.createRange(),i=window.getSelection(),l=null===(e=this.editableField.childNodes[0].nodeValue)||void 0===e?void 0:e.length;if(t.setStart(this.editableField.childNodes[0],l||0),t.collapse(!0),!i||0!==i.toString().length)return;i.removeAllRanges(),i.addRange(t),this.maxLines.length>0&&(this.editableField.scrollTop=this.editableField.scrollHeight)}}handleValidation(){if(this.type||this.pattern){this.checkValidity&&this.checkValidity(this.content)||(this.reportValidity(),this.showAlert())}}showAlert(){this.alert=!0}static get styles(){return[r.a,p]}get overflowStyles(){return this.maxLines.length&&this.maxLines.length>0&&`max-height: ${2*parseInt(this.maxLines)}rem; -webkit-line-clamp: ${this.maxLines}; word-break: break-all;`}messagesTemplate(){var e,t,i;return this.alert?o.html`
            <div class="md-editable-textfield__messages" style="display: ${this.hideMessage?"none":"block"}">
              <md-help-text
                id="alert-message"
                role="alert"
                aria-live="assertive"
                .messageType=${null===(e=this.message)||void 0===e?void 0:e.type}
                aria-errormessage=${Object(h.ifDefined)(null===(t=this.message)||void 0===t?void 0:t.message)}
              >
                ${null===(i=this.message)||void 0===i?void 0:i.message}
              </md-help-text>
            </div>
          `:n.nothing}render(){var e;const t={["md-editable-textfield--"+this.alignment]:this.alignment,"md-editable-textfield--disabled":this.disabled,["md-editable-textfield--"+(null===(e=this.message)||void 0===e?void 0:e.type)]:this.alert&&!!this.message,"md-editable-textfield--textoverflow":this.maxLines.length>0&&!this.isEditing};return o.html`
        <div
          style="${this.overflowStyles}"
          class="md-editable-textfield ${Object(c.classMap)(t)}"
          role="textbox"
          tabindex=${this.disabled?"-1":"0"}
          ?contenteditable=${this.isEditing}
          @focus=${this.handleFocus}
          @blur=${this.handleBlur}
          @keydown=${e=>{this.handleKeydown(e)}}
          aria-invalid=${this.alert?"true":"false"}
          aria-label=${this.ariaLabel}
          aria-describedby=${this.ariaDescribedBy}
        >
          ${a.a.sanitize(this.content)}
        </div>
        ${this.messagesTemplate()}
      `}};m([Object(o.property)({type:String})],t.prototype,"alignment",void 0),m([Object(o.property)({type:Boolean})],t.prototype,"disabled",void 0),m([Object(o.property)({type:Boolean})],t.prototype,"isEditing",void 0),m([Object(o.property)({type:String,attribute:"max-lines",reflect:!0})],t.prototype,"maxLines",void 0),m([Object(o.property)({type:String,reflect:!0})],t.prototype,"content",void 0),m([Object(o.property)({type:Object})],t.prototype,"message",void 0),m([Object(o.property)({type:Boolean,reflect:!0})],t.prototype,"alert",void 0),m([Object(o.property)({type:Boolean})],t.prototype,"hideMessage",void 0),m([Object(o.property)({type:String})],t.prototype,"pattern",void 0),m([Object(o.property)({type:String})],t.prototype,"type",void 0),m([Object(o.property)({type:String,attribute:"aria-label"})],t.prototype,"ariaLabel",void 0),m([Object(o.property)({type:String,attribute:"aria-described-by"})],t.prototype,"ariaDescribedBy",void 0),m([Object(o.query)(".md-editable-textfield")],t.prototype,"editableField",void 0),t=m([Object(s.a)("md-editable-field")],t),e.ELEMENT=t}(u||(u={}))}}]);