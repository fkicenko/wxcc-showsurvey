(window["momentum-web-components-[id]"]=window["momentum-web-components-[id]"]||[]).push([[5],{34:function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var s=i(1),n=i(0),o=i(16),c=i(33),a=function(e,t,i,s){var n,o=arguments.length,c=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(c=(o<3?n(c):o>3?n(t,i,c):n(t,i))||c);return o>3&&c&&Object.defineProperty(t,i,c),c},l=function(e,t,i,s){return new(i||(i=Promise))((function(n,o){function c(e){try{l(s.next(e))}catch(e){o(e)}}function a(e){try{l(s.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(c,a)}l((s=s.apply(e,t||[])).next())}))};n.LitElement;const r=e=>{if(Object(o.b)(r,e))return e;class t extends(Object(c.a)(e)){constructor(){super(...arguments),this.focusableElements=[],this.initialFocusComplete=!1,this.activeFocusTrap=!1,this.preventClickOutside=!1,this.focusTrapIndex=-1,this.preventScroll=!1,this.handleOutsideTrapClick=e=>{let t=!1;const i=e.composedPath();i.length&&(t=!!i.find(e=>e===this),t||this.preventClickOutside||!this.activeFocusTrap?t&&this.activeFocusTrap&&this.initialFocusComplete&&this.handleClickInsideTrap(e):this.deactivateFocusTrap())}}updated(e){if(super.updated(e),e.has("focusTrapIndex")){const t=e.get("focusTrapIndex"),i=this.focusableElements[t];i&&(i.blur(),i.toggleAttribute("focus-visible",!1));const s=this.focusableElements[this.focusTrapIndex];s&&this.tryFocus(s)}}tryFocus(e){requestAnimationFrame(()=>l(this,void 0,void 0,(function*(){this.isElementFocused(e)&&e.focus({preventScroll:this.preventScroll}),void 0!==e.updateComplete&&(yield e.updateComplete),document.hasFocus()&&this.isElementFocused(e)&&e.focus({preventScroll:this.preventScroll}),this.initialFocusComplete||(this.initialFocusComplete=!0)})))}domRectCollection(e){return 0===e.getClientRects().length}viewportPosition(e){const{width:t,height:i}=e.getBoundingClientRect(),{offsetWidth:s,offsetHeight:n}=e;return s+n+i+t===0}isNotVisible(e){return"SLOT"!==e.tagName&&(this.viewportPosition(e)||this.domRectCollection(e))}isHidden(e){return e.hasAttribute("hidden")||e.hasAttribute("aria-hidden")&&"true"===e.getAttribute("aria-hidden")||"none"===e.style.display||"0"===e.style.opacity||"hidden"===e.style.visibility||"collapse"===e.style.visibility||this.isNotVisible(e)}isDisabled(e){return e.hasAttribute("disabled")||"true"===e.getAttribute("aria-disabled")}isNotTabbable(e){return"-1"===e.getAttribute("tabindex")}isInteractiveElement(e){return e instanceof HTMLButtonElement||e instanceof HTMLDetailsElement||e instanceof HTMLEmbedElement||e instanceof HTMLIFrameElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement||(!!(e instanceof HTMLAnchorElement&&e.hasAttribute("href"))||(e instanceof HTMLInputElement&&"hidden"!==e.type||(!(!(e instanceof HTMLAudioElement||e instanceof HTMLVideoElement)||!e.hasAttribute("controls"))||(!(!(e instanceof HTMLImageElement||e instanceof HTMLObjectElement)||!e.hasAttribute("usemap"))||!!(e.hasAttribute("tabindex")&&e.tabIndex>-1)))))}isFocusable(e){return!(this.isDisabled(e)||this.isHidden(e)||this.isNotTabbable(e))&&!!this.isInteractiveElement(e)}shouldSkipFocus(e){if(e.className.split(" ").indexOf("md-combobox")>-1)return!0}findFocusable(e,t){const i=Array.from(e.children);for(const e of i)if(!this.isHidden(e)){if(this.shouldSkipFocus(e))break;if(this.isFocusable(e)&&t.add(e),e.shadowRoot)this.findFocusable(e.shadowRoot,t);else if("SLOT"===e.tagName){const i=e.assignedNodes().filter(e=>e.nodeType===e.ELEMENT_NODE);if(i.length){const e=i[0].parentElement;e&&this.findFocusable(e,t)}}else this.findFocusable(e,t)}return[...t]}isEqualFocusNode(e,t){return e.nodeType>=0&&(t.isEqualNode(e)&&t==e)}findElement(e){return this.focusableElements.findIndex(t=>this.isEqualFocusNode(e,t))}focusTrap(e){const t=this.getDeepActiveElement(),i=this.findElement(t);e?-1===i&&this.focusTrapIndex-1>0?this.focusTrapIndex--:this.focusTrapIndex=i>0?i-1:this.focusableElements.length-1:-1===i&&this.focusTrapIndex+1<this.focusableElements.length?this.focusTrapIndex++:this.focusTrapIndex=i+1<this.focusableElements.length?i+1:0}hasAutofocus(e){return e.hasAttribute("autofocus")}setInitialFocus(e=0,t=!1){let i=-1;this.initialFocusComplete=!1,this.focusableElements.length&&!t&&(i=this.focusableElements.findIndex(this.hasAutofocus)),this.focusableElements.length&&-1===i&&("object"==typeof e?i=this.findElement(e):"number"==typeof e&&(i=e)),this.focusableElements[i]&&(this.focusTrapIndex=i)}setFocusableElements(){this.focusableElements=this.findFocusable(this.shadowRoot,new Set)}firstUpdated(e){const t=Object.create(null,{firstUpdated:{get:()=>super.firstUpdated}});return l(this,void 0,void 0,(function*(){t.firstUpdated.call(this,e),yield new Promise(e=>setTimeout(e,0)),this.setFocusableElements()}))}handleKeydownFocusTrap(e){e.code!==s.a.Tab||e.shiftKey&&e.code!==s.a.Tab||this.activeFocusTrap&&this.focusableElements.length&&(e.shiftKey?(e.preventDefault(),this.focusTrap(!0)):(e.preventDefault(),this.focusTrap(!1)))}activateFocusTrap(){this.activeFocusTrap=!0}deactivateFocusTrap(){this.activeFocusTrap=!1,this.focusTrapIndex=-1,this.removeAttribute("focus-trap-index")}handleClickInsideTrap(e){const t=e.composedPath(),i=t.findIndex(e=>-1!==this.findElement(e));if(-1!==i){const e=t[i],s=this.findElement(e);-1!==s&&(this.focusTrapIndex=s)}}manageNewElement(e){requestAnimationFrame(()=>{this.setFocusableElements();const t=this.findElement(e);-1!==t&&(this.focusTrapIndex=t)})}handleFocusVisible(e){const t=(e.detail?e.detail.sourceEvent:e).composedPath()[0];-1===(e.detail?this.findElement(t):-1)&&t!==this&&this.manageNewElement(t)}connectedCallback(){super.connectedCallback(),this.addEventListener("keydown",this.handleKeydownFocusTrap),this.addEventListener("focus-visible",this.handleFocusVisible),document.addEventListener("click",this.handleOutsideTrapClick)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("keydown",this.handleKeydownFocusTrap),this.removeEventListener("focus-visible",this.handleFocusVisible),document.removeEventListener("click",this.handleOutsideTrapClick)}}return a([Object(n.internalProperty)()],t.prototype,"focusableElements",void 0),a([Object(n.internalProperty)()],t.prototype,"initialFocusComplete",void 0),a([Object(n.property)({type:Boolean,reflect:!0,attribute:"active-focus-trap"})],t.prototype,"activeFocusTrap",void 0),a([Object(n.property)({type:Boolean,reflect:!0,attribute:"prevent-click-outside"})],t.prototype,"preventClickOutside",void 0),a([Object(n.property)({type:Number,reflect:!0,attribute:"focus-trap-index"})],t.prototype,"focusTrapIndex",void 0),a([Object(n.property)({type:Boolean,reflect:!0,attribute:"prevent-scroll"})],t.prototype,"preventScroll",void 0),Object(o.a)(r,t),t}}}]);